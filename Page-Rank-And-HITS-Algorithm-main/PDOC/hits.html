<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>hits API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>hits</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">import networkx as nx
import numpy as np

&#39;&#39;&#39;Hyperlink Induced Topic Search (HITS) Algorithm is a Link Analysis Algorithm that rates webpages, developed by Jon Kleinberg. 
This algorithm is used to the web link-structures to discover and rank the webpages relevant for a particular search. &#39;&#39;&#39;

#Read graph object in Python pickle format.
web_graph=nx.read_gpickle(&#34;web_graph.gpickle&#34;)
print(web_graph)

#Reading all the queries
query = input(&#39;Enter your query:&#39;)
query = query.split()

&#39;&#39;&#39;In the HITS algorithm, the first step is to retrieve the most relevant pages to the search query. 
This set is called the root set and can be obtained by taking the top pages returned by a text-based search algorithm.&#39;&#39;&#39;
arr = np.zeros(100)

for i in range(0,100) :
    document = web_graph.nodes[i][&#39;page_content&#39;]
    temp=document.split()

    for q in query:
        if q in temp:
            arr[i]=1
            break
arr=np.array(arr)

#create adjacency matrix arr1
adj=nx.to_numpy_array(web_graph)

&#39;&#39;&#39;A hub value is the sum of the scaled authority values of the pages it points to.&#39;&#39;&#39;
#Getting Hub score
hub=np.dot(arr,adj)

&#39;&#39;&#39;An authority value is computed as the sum of the scaled hub values that point to that page.&#39;&#39;&#39;
#Getting authority score
authority=np.dot(arr,adj.T)

#Finding which all pages involved in hub-authority relationship for the given query and are to be a part of the sub-graph
arr=arr+hub+authority

&#39;&#39;&#39;A base set is generated by augmenting the root set with all the web pages that are linked from it and some of the pages that link to it. 
Reason for constructing a base set is to ensure that most (or many) of the strongest authorities are included.&#39;&#39;&#39;
#create the baseset
connection=[]

for i in range (0,100):
    if(arr[i]!=0):
        #add i to a vector arr5
        connection.append(i)

&#39;&#39;&#39;The web pages in the base set and all hyperlinks among those pages form a focused subgraph. The HITS computation is performed only on this focused subgraph.&#39;&#39;&#39;
#create a subgraph using baseset
subgraph=nx.subgraph(web_graph, connection)
result=nx.to_numpy_array(subgraph)

&#39;&#39;&#39;Start with each node having a hub score and authority score of 1.&#39;&#39;&#39;
length = len(connection)
hubvector=np.ones(length)
authorityvector=np.ones(length)

&#39;&#39;&#39;Authority update: Update each node&#39;s authority score to be equal to the sum of the hub scores of each node that points to it. 
A node is given a high authority score by being linked from pages that are recognized as Hubs for information.&#39;&#39;&#39;

&#39;&#39;&#39;Hub update: Update each node&#39;s hub score to be equal to the sum of the authority scores of each node that it points to. 
A node is given a high hub score by linking to nodes that are considered to be authorities on the subject.&#39;&#39;&#39;

&#39;&#39;&#39;Normalize the values by dividing each Hub score by square root of the sum of the squares of all Hub scores, 
and dividing each Authority score by square root of the sum of the squares of all Authority scores.&#39;&#39;&#39;

&#39;&#39;&#39;Repeat&#39;&#39;&#39;

# Setting no. of iterations
iteration=1000
step=0
while(step&lt;=1000):
    step=step+1
    #Run the authority update rule
    authorityvector=np.dot(result.T,hubvector)
    
    # Run the hub update rule
    hubvector=np.dot(result,authorityvector)

    # Normalize the values by dividing each Hub score by square root of the sum of the squares of all Hub scores, 
    # and dividing each Authority score by square root of the sum of the squares of all Authority scores.
    hubvector=hubvector/sum(hubvector)
    authorityvector=authorityvector/sum(authorityvector)

&#39;&#39;&#39;Result contains all the nodes involved in the subgraph. 
Hubvector contains the hubscores and authorityvector contains the authorityscores of those respective nodes&#39;&#39;&#39;
result=list(subgraph.nodes)

print(&#34;\nNode\tHub Values:&#34;)
step=0
for value in hubvector:
    print(result[step],end=&#34;\t&#34;)
    print(value,end=&#34;\n&#34;)
    step=step+1

print(&#34;\nNode\tAuthority Values:&#34;)
step=0
for value in authorityvector:
    print(result[step],end=&#34;\t&#34;)
    print(value,end=&#34;\n&#34;)
    step=step+1</code></pre>
</details>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-variables">Global variables</h2>
<dl>
<dt id="hits.adj"><code class="name">var <span class="ident">adj</span></code></dt>
<dd>
<div class="desc"><p>A hub value is the sum of the scaled authority values of the pages it points to.</p></div>
</dd>
<dt id="hits.arr"><code class="name">var <span class="ident">arr</span></code></dt>
<dd>
<div class="desc"><p>A base set is generated by augmenting the root set with all the web pages that are linked from it and some of the pages that link to it.
Reason for constructing a base set is to ensure that most (or many) of the strongest authorities are included.</p></div>
</dd>
<dt id="hits.authorityvector"><code class="name">var <span class="ident">authorityvector</span></code></dt>
<dd>
<div class="desc"><p>Authority update: Update each node's authority score to be equal to the sum of the hub scores of each node that points to it.
A node is given a high authority score by being linked from pages that are recognized as Hubs for information.</p></div>
</dd>
<dt id="hits.hub"><code class="name">var <span class="ident">hub</span></code></dt>
<dd>
<div class="desc"><p>An authority value is computed as the sum of the scaled hub values that point to that page.</p></div>
</dd>
<dt id="hits.query"><code class="name">var <span class="ident">query</span></code></dt>
<dd>
<div class="desc"><p>In the HITS algorithm, the first step is to retrieve the most relevant pages to the search query.
This set is called the root set and can be obtained by taking the top pages returned by a text-based search algorithm.</p></div>
</dd>
<dt id="hits.result"><code class="name">var <span class="ident">result</span></code></dt>
<dd>
<div class="desc"><p>Start with each node having a hub score and authority score of 1.</p></div>
</dd>
</dl>
</section>
<section>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3><a href="#header-variables">Global variables</a></h3>
<ul class="two-column">
<li><code><a title="hits.adj" href="#hits.adj">adj</a></code></li>
<li><code><a title="hits.arr" href="#hits.arr">arr</a></code></li>
<li><code><a title="hits.authorityvector" href="#hits.authorityvector">authorityvector</a></code></li>
<li><code><a title="hits.hub" href="#hits.hub">hub</a></code></li>
<li><code><a title="hits.query" href="#hits.query">query</a></code></li>
<li><code><a title="hits.result" href="#hits.result">result</a></code></li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>